(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"8+KV":function(e,t,a){"use strict";var n=a("XKFU"),o=a("CkkT")(0),r=a("LyE8")([].forEach,!0);n(n.P+n.F*!r,"Array",{forEach:function(e){return o(this,e,arguments[1])}})},BwRc:function(e,t,a){"use strict";a.r(t);a("8+KV"),a("f3/d"),a("dRSK");var n={name:"ReRegistration",data:function(){return{unathorizedMessage:"",isDisabled:!0,loaded:!1,authorized:!1,registered:!1,forms:[{id:"name",value:"",errors:null,state:null,icon:'<i class="icon-user">',type:"text",placeholder:"Nama Lengkap"},{id:"phone",value:"",errors:null,state:null,icon:'<i class="icon-phone">',type:"number",placeholder:"Nomor Telepon"},{id:"address",value:"",errors:null,state:null,icon:'<i class="icon-direction">',type:"text",placeholder:"Alamat Lengkap"},{id:"donation_category",value:null,errors:null,state:null,icon:'<i class="icon-list">',type:"select",placeholder:"-- Please select donation category for this period--",options:[{value:"AKTIF",text:"Donatur Aktif"},{value:"PASIF",text:"Donatur Pasif"}]},{id:"amount",value:null,errors:null,state:null,icon:"Rp",type:"number",placeholder:"Rencana Donasi"},{id:"accept_term_condition",value:null,errors:null,state:null,type:"checkbox"}],info:{period:null,year:null},errors:{donation_category:null,amount:null,accept_term_condition:null}}},created:function(){this.getAuthorization()},computed:{donationCategoryValue:function(){return this.forms.find((function(e){return"donation_category"==e.id})).value},amountDonationValue:function(){return this.forms.find((function(e){return"amount"==e.id})).value}},methods:{getAuthorization:function(){var e=this;this.isDisabled=!0,axios.get("api/donor/registration/re-registration/authorized?\n        id=".concat(this.$route.query.id,"&\n        email=").concat(this.$route.query.email,"&\n        period_id=").concat(this.$route.query.period_id,"&\n        token=").concat(this.$route.query.token)).then((function(t){e.isDisabled=!1,e.loaded=!0,e.authorized=!0,e.getFormsValue("name").value=t.data.data.donor.name,e.getFormsValue("phone").value=t.data.data.donor.phone,e.getFormsValue("address").value=t.data.data.donor.address,e.info.period=t.data.data.period,e.info.year=t.data.data.year})).catch((function(t){e.unathorizedMessage=t.response.data.message,e.isDisabled=!1,e.loaded=!0,e.authorized=!1}))},postData:function(){var e=this;this.loaded=!0;var t=new FormData;this.forms.forEach((function(e){t.append(e.id,e.value)})),t.append("period",this.info.period),t.append("year",this.info.year),axios.post("api/donor/registration/re-registration?\n        id=".concat(this.$route.query.id,"&\n        email=").concat(this.$route.query.email,"&\n        period_id=").concat(this.$route.query.period_id,"&\n        token=").concat(this.$route.query.token),t).then((function(t){e.$snotify.success("Registered On New Period","SUCCESS"),e.getFormsValue("donation_category").value=null,e.getFormsValue("amount").value=null,e.registered=!0,e.isDisabled=!1})).catch((function(t){e.$snotify.error(t.response.data.message,"ERROR"),e.isDisabled=!1;var a=t.response.data.errors;e.getFormsValue("donation_category").errors=a.donation_category?a.donation_category[0]:"no-error",e.getFormsValue("amount").errors=a.amount?a.amount[0]:"no-error"}))},getFormsValue:function(e){return this.forms.find((function(t){return t.id==e}))}}},o=a("KHd+"),r=Object(o.a)(n,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"app flex-row align-items-center"},[a("loading",{staticClass:"text-center",attrs:{active:e.isDisabled,"can-cancel":!1,opacity:.9,height:60,loader:"dots",transition:"fade","background-color":"rgba(0,0,0,.85)",color:"rgba(255,255,255,.9)","is-full-page":!0}},[a("div",{staticClass:"text-center",staticStyle:{color:"rgba(255,255,255,.9)"},attrs:{slot:"after"},slot:"after"},[e._v("\n      Mohon Tunggu...\n    ")])]),e._v(" "),e.loaded?a("div",{staticClass:"container"},[e.authorized?e._e():a("b-row",{staticClass:"justify-content-center"},[e.authorized?e._e():a("b-col",{attrs:{sm:"6"}},[a("b-alert",{attrs:{show:"",variant:"danger"}},[e._v("\n          "+e._s(e.unathorizedMessage)+".\n        ")])],1)],1),e._v(" "),e.authorized?a("b-row",{staticClass:"justify-content-center"},[e.registered?a("b-col",{attrs:{sm:"8"}},[a("header",{staticClass:"text-center",attrs:{id:"header"}},[a("h1",[a("strong",[e._v("TERIMA KASIH")])])]),e._v(" "),a("div",{staticClass:"text-center"},[a("i",{staticClass:"fa fa-heart display-1",staticStyle:{color:"red"},attrs:{id:"checkmark"}}),e._v(" "),a("p",[e._v("\n            Terima kasih telah mendaftar kembali menjadi donatur di SEED\n            Scholarship. Mohon cek email anda, untuk menyetujui data yang\n            sudah anda berikan agar kontrak kerja sama bisa segera kami\n            kirimkan.\n          ")])])]):e._e(),e._v(" "),e.registered?e._e():a("b-col",{attrs:{lg:"6",md:"8"}},[a("b-card",{staticClass:"mx-4",attrs:{"no-body":""}},[a("form",{staticClass:"card-body p-4",attrs:{autocomplete:"off"},on:{submit:function(t){return t.preventDefault(),e.postData(t)}}},[a("h2",[e._v("Daftar Ulang Donatur")]),e._v(" "),a("div",{staticClass:"text-muted"},[e._v("\n              Hai\n              "),a("b",[e._v("\n                "+e._s(e.getFormsValue("name").value)+".\n              ")])]),e._v(" "),a("p",{staticClass:"text-muted"},[e._v("\n              Kamu akan mendaftar kembali menjadi donatur SEEDSCHOLARSHIP period "),a("b",[e._v(e._s(e.info.period))]),e._v(" tahun "),a("b",[e._v(e._s(e.info.year))]),e._v(".\n\n            ")]),e._v(" "),a("p",{staticClass:"text-muted"},[e._v("\n              Silahkan mengisi form berikut untuk\n              kembali menjadi donatur kami.\n            ")]),e._v(" "),a("b-row",{staticClass:"form-group"},e._l(e.forms,(function(t,n){return a("b-col",{key:"form"+n,attrs:{sm:"12"}},[a("b-form-group",{attrs:{"invalid-feedback":t.errors,state:t.state}},["amount"!=t.id||null!=e.donationCategoryValue?a("b-input-group",["accept_term_condition"!=t.id?a("b-input-group-prepend",[a("b-input-group-text",{domProps:{innerHTML:e._s(t.icon)}})],1):e._e(),e._v(" "),"donation_category"!=t.id&&"accept_term_condition"!=t.id?a("b-input",{staticClass:"form-control",attrs:{autocomplete:"off",type:t.type,placeholder:t.placeholder,state:t.state},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"v.value"}}):e._e(),e._v(" "),"donation_category"==t.id?a("b-form-select",{attrs:{plain:"",options:t.options,state:t.state},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"v.value"}},[a("template",{slot:"first"},[a("option",{attrs:{disabled:""},domProps:{value:null}},[e._v(e._s(t.placeholder))])])],2):e._e()],1):e._e(),e._v(" "),"amount"==t.id?a("div",{attrs:{slot:"description"},slot:"description"},["AKTIF"==e.donationCategoryValue?a("small",[e._v("Rencana donasi anda akan ditagihkan Rp.\n                      "+e._s(e._f("currency")(e.amountDonationValue))+" / bulan")]):e._e(),e._v(" "),"PASIF"==e.donationCategoryValue?a("small",[e._v("Rencana donasi anda Rp. "+e._s(e._f("currency")(e.amountDonationValue))+" /\n                      periode")]):e._e()]):e._e(),e._v(" "),"accept_term_condition"==t.id?a("b-form-checkbox",{attrs:{id:t.id,value:1,"unchecked-value":null,state:t.state},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"v.value"}},[e._v("\n                    I already read & accept the terms and conditions.\n                  ")]):e._e()],1)],1)})),1),e._v(" "),a("b-button",{attrs:{disabled:e.isDisabled,type:"submit",variant:"success",block:""}},[a("i",{directives:[{name:"show",rawName:"v-show",value:e.isDisabled,expression:"isDisabled"}],staticClass:"fa fa-spinner fa-spin"}),e._v("\n              Submit")])],1)])],1)],1):e._e()],1):e._e()],1)}),[],!1,null,null,null);t.default=r.exports},dRSK:function(e,t,a){"use strict";var n=a("XKFU"),o=a("CkkT")(5),r=!0;"find"in[]&&Array(1).find((function(){r=!1})),n(n.P+n.F*r,"Array",{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("nGyu")("find")}}]);