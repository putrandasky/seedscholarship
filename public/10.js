(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"8+KV":function(t,e,a){"use strict";var n=a("XKFU"),o=a("CkkT")(0),r=a("LyE8")([].forEach,!0);n(n.P+n.F*!r,"Array",{forEach:function(t){return o(this,t,arguments[1])}})},BwRc:function(t,e,a){"use strict";a.r(e);a("8+KV"),a("f3/d"),a("dRSK");var n={name:"ReRegistration",data:function(){return{unathorizedMessage:"",isDisabled:!0,loaded:!1,authorized:!1,registered:!1,forms:[{id:"name",value:"",errors:null,state:null,icon:'<i class="icon-user">',type:"text",placeholder:"Nama Lengkap"},{id:"phone",value:"",errors:null,state:null,icon:'<i class="icon-phone">',type:"number",placeholder:"Nomor Telepon"},{id:"address",value:"",errors:null,state:null,icon:'<i class="icon-direction">',type:"text",placeholder:"Alamat Lengkap"},{id:"donation_category",value:null,errors:null,state:null,icon:'<i class="icon-list">',type:"select",placeholder:"-- Please select donation category for this period--",options:[{value:"AKTIF",text:"Donatur Aktif"},{value:"PASIF",text:"Donatur Pasif"}]},{id:"amount",value:null,errors:null,state:null,icon:"Rp",type:"number",placeholder:"Rencana Donasi"},{id:"accept_term_condition",value:null,errors:null,state:null,type:"checkbox"}],info:{period:null,year:null},errors:{donation_category:null,amount:null,accept_term_condition:null}}},created:function(){this.getAuthorization()},computed:{donationCategoryValue:function(){return this.forms.find((function(t){return"donation_category"==t.id})).value},amountDonationValue:function(){return this.forms.find((function(t){return"amount"==t.id})).value}},methods:{getAuthorization:function(){var t=this;this.isDisabled=!0,axios.get("api/donor/registration/re-registration/authorized?\n        id=".concat(this.$route.query.id,"&\n        email=").concat(this.$route.query.email,"&\n        period_id=").concat(this.$route.query.period_id,"&\n        token=").concat(this.$route.query.token)).then((function(e){t.isDisabled=!1,t.loaded=!0,t.authorized=!0,t.getFormsValue("name").value=e.data.data.donor.name,t.getFormsValue("phone").value=e.data.data.donor.phone,t.getFormsValue("address").value=e.data.data.donor.address,t.info.period=e.data.data.period,t.info.year=e.data.data.year})).catch((function(e){t.unathorizedMessage=e.response.data.message,t.isDisabled=!1,t.loaded=!0,t.authorized=!1}))},postData:function(){var t=this;this.loaded=!0;var e=new FormData;this.forms.forEach((function(t){e.append(t.id,t.value)})),e.append("period",this.info.period),e.append("year",this.info.year),axios.post("api/donor/registration/re-registration?\n        id=".concat(this.$route.query.id,"&\n        email=").concat(this.$route.query.email,"&\n        period_id=").concat(this.$route.query.period_id,"&\n        token=").concat(this.$route.query.token),e).then((function(e){t.$snotify.success("Registered On New Period","SUCCESS"),t.getFormsValue("donation_category").value=null,t.getFormsValue("amount").value=null,t.registered=!0,t.isDisabled=!1})).catch((function(e){t.$snotify.error(e.response.data.message,"ERROR"),t.isDisabled=!1;var a=e.response.data.errors;t.getFormsValue("donation_category").errors=a.donation_category?a.donation_category[0]:"no-error",t.getFormsValue("amount").errors=a.amount?a.amount[0]:"no-error"}))},getFormsValue:function(t){return this.forms.find((function(e){return e.id==t}))}}},o=a("KHd+"),r=Object(o.a)(n,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app flex-row align-items-center"},[a("loading",{staticClass:"text-center",attrs:{active:t.isDisabled,"can-cancel":!1,opacity:.9,height:60,loader:"dots",transition:"fade","background-color":"rgba(0,0,0,.85)",color:"rgba(255,255,255,.9)","is-full-page":!0}},[a("div",{staticClass:"text-center",staticStyle:{color:"rgba(255,255,255,.9)"},attrs:{slot:"after"},slot:"after"},[t._v("\n      Mohon Tunggu...\n    ")])]),t._v(" "),t.loaded?a("div",{staticClass:"container"},[t.authorized?t._e():a("b-row",{staticClass:"justify-content-center"},[t.authorized?t._e():a("b-col",{attrs:{sm:"6"}},[a("b-alert",{attrs:{show:"",variant:"danger"}},[t._v("\n          "+t._s(t.unathorizedMessage)+".\n        ")])],1)],1),t._v(" "),t.authorized?a("b-row",{staticClass:"justify-content-center"},[t.registered?a("b-col",{attrs:{sm:"8"}},[a("header",{staticClass:"text-center",attrs:{id:"header"}},[a("h1",[a("strong",[t._v("TERIMA KASIH")])])]),t._v(" "),a("div",{staticClass:"text-center"},[a("i",{staticClass:"fa fa-heart display-1",staticStyle:{color:"red"},attrs:{id:"checkmark"}}),t._v(" "),a("p",[t._v("\n            Terima kasih telah mendaftar kembali menjadi donatur di SEED\n            Scholarship. Mohon cek email anda, untuk menyetujui data yang\n            sudah anda berikan agar kontrak kerja sama bisa segera kami\n            kirimkan.\n          ")])])]):t._e(),t._v(" "),t.registered?t._e():a("b-col",{attrs:{lg:"6",md:"8"}},[a("b-card",{staticClass:"mx-4",attrs:{"no-body":""}},[a("form",{staticClass:"card-body p-4",attrs:{autocomplete:"off"},on:{submit:function(e){return e.preventDefault(),t.postData(e)}}},[a("h2",[t._v("Daftar Ulang Donatur")]),t._v(" "),a("div",{staticClass:"text-muted"},[t._v("\n              Hai\n              "),a("b",[t._v("\n                "+t._s(t.getFormsValue("name").value)+".\n              ")])]),t._v(" "),a("p",{staticClass:"text-muted"},[t._v("\n              Kamu akan mendaftar kembali menjadi donatur SEEDSCHOLARSHIP period "),a("b",[t._v(t._s(t.info.period))]),t._v(" tahun "),a("b",[t._v(t._s(t.info.year))]),t._v(".\n\n            ")]),t._v(" "),a("p",{staticClass:"text-muted"},[t._v("\n              Silahkan mengisi form berikut untuk\n              kembali menjadi donatur kami.\n            ")]),t._v(" "),a("b-row",{staticClass:"form-group"},t._l(t.forms,(function(e,n){return a("b-col",{key:"form"+n,attrs:{sm:"12"}},[a("b-form-group",{attrs:{"invalid-feedback":e.errors,state:e.state}},["amount"!=e.id||null!=t.donationCategoryValue?a("b-input-group",["accept_term_condition"!=e.id?a("b-input-group-prepend",[a("b-input-group-text",{domProps:{innerHTML:t._s(e.icon)}})],1):t._e(),t._v(" "),"donation_category"!=e.id&&"accept_term_condition"!=e.id?a("b-input",{staticClass:"form-control",attrs:{autocomplete:"off",type:e.type,placeholder:e.placeholder,state:e.state},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"v.value"}}):t._e(),t._v(" "),"donation_category"==e.id?a("b-form-select",{attrs:{plain:"",options:e.options,state:e.state},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"v.value"}},[a("template",{slot:"first"},[a("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(t._s(e.placeholder))])])],2):t._e()],1):t._e(),t._v(" "),"amount"==e.id?a("div",{attrs:{slot:"description"},slot:"description"},["AKTIF"==t.donationCategoryValue?a("small",[t._v("Rencana donasi anda akan ditagihkan Rp.\n                      "+t._s(t._f("currency")(t.amountDonationValue))+" / bulan")]):t._e(),t._v(" "),"PASIF"==t.donationCategoryValue?a("small",[t._v("Rencana donasi anda Rp. "+t._s(t._f("currency")(t.amountDonationValue))+" /\n                      periode")]):t._e()]):t._e(),t._v(" "),"accept_term_condition"==e.id?a("b-form-checkbox",{attrs:{id:e.id,value:1,"unchecked-value":null,state:e.state},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"v.value"}},[t._v("\n                    I already read & accept the terms and conditions.\n                  ")]):t._e()],1)],1)})),1),t._v(" "),a("b-button",{attrs:{disabled:t.isDisabled,type:"submit",variant:"success",block:""}},[a("i",{directives:[{name:"show",rawName:"v-show",value:t.isDisabled,expression:"isDisabled"}],staticClass:"fa fa-spinner fa-spin"}),t._v("\n              Submit")])],1)])],1)],1):t._e()],1):t._e()],1)}),[],!1,null,null,null);e.default=r.exports},dRSK:function(t,e,a){"use strict";var n=a("XKFU"),o=a("CkkT")(5),r=!0;"find"in[]&&Array(1).find((function(){r=!1})),n(n.P+n.F*r,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a("nGyu")("find")},nGyu:function(t,e,a){var n=a("K0xU")("unscopables"),o=Array.prototype;null==o[n]&&a("Mukb")(o,n,{}),t.exports=function(t){o[n][t]=!0}}}]);